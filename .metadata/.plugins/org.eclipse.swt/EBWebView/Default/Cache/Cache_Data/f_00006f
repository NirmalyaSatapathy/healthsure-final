<!DOCTYPE html>
<f:view data-vpvid="10581">&#13;
<html data-vpvid="10580">&#13;
<head data-vpvid="10447">&#13;
  <meta charset="UTF-8" data-vpvid="10444"/>&#13;
  <title data-vpvid="10445">Patient Insurance Details</title>&#13;
  <style data-vpvid="10446">&#13;
    /* Base page styling */&#13;
    body {&#13;
      font-family: 'Segoe UI', Arial, sans-serif;&#13;
      background-color: #f4f8fc;&#13;
      color: #2e3e50;&#13;
      margin: 0;&#13;
      padding: 20px;&#13;
    }&#13;
    h2 {&#13;
      color: #1E88E5;&#13;
      font-size: 28px;&#13;
      margin-bottom: 20px;&#13;
      border-bottom: 2px solid #BBDEFB;&#13;
      padding-bottom: 6px;&#13;
    }&#13;
&#13;
    /* Form controls */&#13;
    .form-group {&#13;
      margin-bottom: 0px;&#13;
    }&#13;
    .form-group label {&#13;
      display: inline-block;&#13;
      width: 160px;&#13;
      font-weight: bold;&#13;
      color: #2E7D32;&#13;
      margin-bottom: 5px;&#13;
    }&#13;
    .form-control {&#13;
      padding: 8px 10px;&#13;
      width: 260px;&#13;
      font-size: 14px;&#13;
      box-sizing: border-box;&#13;
      transition: border-color 0.3s ease;&#13;
    }&#13;
    .form-control:focus {&#13;
      outline: none;&#13;
      border-color: #1E88E5;&#13;
      box-shadow: 0 0 4px rgba(30,136,229,0.3);&#13;
    }&#13;
    .error-message {&#13;
      display: block;&#13;
      color: #f44336;&#13;
      font-size: 14px;&#13;
      font-weight: 600;&#13;
      margin-top: 6px;&#13;
      margin-left: 165px;&#13;
    }&#13;
&#13;
    /* Buttons */&#13;
    .btn {&#13;
      border: none;&#13;
      border-radius: 4px;&#13;
      padding: 8px 16px;&#13;
      font-size: 14px;&#13;
      cursor: pointer;&#13;
      transition: background-color 0.3s ease;&#13;
      margin: 5px 8px 5px 0;&#13;
    }&#13;
    .btn-primary {&#13;
      background-color: #1E88E5;&#13;
      color: #ffffff;&#13;
    }&#13;
    .btn-primary:hover {&#13;
      background-color: #1565C0;&#13;
    }&#13;
    .btn-secondary {&#13;
      background-color: #43A047;&#13;
      color: #ffffff;&#13;
    }&#13;
    .btn-secondary:hover {&#13;
      background-color: #2E7D32;&#13;
    }&#13;
    .btn-tertiary {&#13;
      background-color: #ffffff;&#13;
      color: #1E88E5;&#13;
      border: 2px solid #1E88E5;&#13;
    }&#13;
    .btn-tertiary:hover {&#13;
      background-color: #e3f2fd;&#13;
    }&#13;
&#13;
    /* Data table */&#13;
    .data-table {&#13;
      width: 100%;&#13;
      margin-top: 30px;&#13;
      border-collapse: collapse;&#13;
      background-color: #ffffff;&#13;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);&#13;
    }&#13;
    .data-table th {&#13;
      background-color: #1E88E5;&#13;
      color: #ffffff;&#13;
      font-weight: 600;&#13;
      padding: 12px;&#13;
      text-align: center;&#13;
      border: 1px solid #90CAF9;&#13;
    }&#13;
    .data-table td {&#13;
      border: 1px solid #cfd8dc;&#13;
      padding: 10px;&#13;
      font-size: 15px;&#13;
      text-align: center;&#13;
      color: #2e3e50;&#13;
    }&#13;
    .data-table tr:nth-child(even) {&#13;
      background-color: #e8f5e9;&#13;
    }&#13;
    .data-table tr:hover {&#13;
      background-color: #BBDEFB;&#13;
    }&#13;
&#13;
    /* Pagination groups */&#13;
    .pagination-group {&#13;
      margin-top: 20px;&#13;
      display: flex;&#13;
      justify-content: space-between;&#13;
      align-items: center;&#13;
    }&#13;
&#13;
    @media (max-width: 600px) {&#13;
      h2 { font-size: 24px; }&#13;
      .form-control { width: 100%; }&#13;
      .data-table th,&#13;
      .data-table td {&#13;
        font-size: 13px;&#13;
        padding: 6px;&#13;
      }&#13;
      .btn {&#13;
        width: 100%;&#13;
        margin: 6px 0;&#13;
      }&#13;
      .pagination-group {&#13;
        flex-direction: column;&#13;
        gap: 8px;&#13;
      }&#13;
    }&#13;
    /* remove input‐box styling for this radio group */&#13;
/* remove any focus outline or glow on all radios */&#13;
input[type="radio"],&#13;
input[type="radio"]:focus {&#13;
  outline: none !important;&#13;
  box-shadow: none !important;&#13;
}&#13;
&#13;
/* Firefox inner focus border */&#13;
input[type="radio"]::-moz-focus-inner {&#13;
  border: 0;&#13;
}&#13;
  </style>&#13;
</head>&#13;
&#13;
<body data-vpvid="10579">&#13;
  <h2 data-vpvid="10448">Patient Insurance Details</h2>&#13;
&#13;
  &#13;
  <h:form data-vpvid="10471" prependId="false">&#13;
    <div class="form-group" data-vpvid="10453">&#13;
      <label data-vpvid="10450" escape="false" for="doctorId">&#13;
        Enter Doctor ID:<span data-vpvid="10449" style="color:red;">*</span>&#13;
      </label>&#13;
      <h:inputText data-vpvid="10451" id="doctorId" styleClass="form-control" value="#{insuranceController.doctorId}"/>&#13;
      <h:message data-vpvid="10452" for="doctorId" styleClass="error-message"/>&#13;
    </div>&#13;
&#13;
    <div class="form-group" data-vpvid="10457">&#13;
      <label data-vpvid="10454" for="recipientId">Enter Patient ID (optional):</label>&#13;
      <h:inputText data-vpvid="10455" id="recipientId" styleClass="form-control" value="#{insuranceController.healthId}"/>&#13;
      <h:message data-vpvid="10456" for="recipientId" styleClass="error-message"/>&#13;
    </div>&#13;
&#13;
    <div class="form-group" data-vpvid="10461">&#13;
      <label data-vpvid="10458" for="patientName">Patient Name (optional):</label>&#13;
      <h:inputText data-vpvid="10459" id="patientName" styleClass="form-control" value="#{insuranceController.patientName}"/>&#13;
      <h:message data-vpvid="10460" for="patientName" styleClass="error-message"/>&#13;
    </div>&#13;
&#13;
    <div class="form-group" data-vpvid="10466">&#13;
      <h:selectOneRadio data-vpvid="10464" id="matchType" layout="lineDirection" styleClass="form-control" value="#{insuranceController.matchType}">&#13;
        <f:selectItem data-vpvid="10462" itemLabel="Starts With" itemValue="startsWith"/>&#13;
        <f:selectItem data-vpvid="10463" itemLabel="Contains" itemValue="contains"/>&#13;
      </h:selectOneRadio>&#13;
      <h:message data-vpvid="10465" for="matchType" styleClass="error-message"/>&#13;
    </div>&#13;
&#13;
    <div data-vpvid="10470">&#13;
      <h:commandButton action="#{insuranceController.handleSearch()}" data-vpvid="10467" styleClass="btn btn-primary" value="Search"/>&#13;
      <h:commandButton action="#{insuranceController.resetPage()}" data-vpvid="10468" immediate="true" styleClass="btn btn-secondary" value="Reset"/>&#13;
      <h:commandButton action="#{insuranceController.goToDashboard()}" data-vpvid="10469" styleClass="btn btn-tertiary" value="Go to Dashboard"/>&#13;
    </div>&#13;
  </h:form>&#13;
&#13;
  &#13;
  <h:panelGroup data-vpvid="10473" rendered="#{not empty insuranceController.topMessage}">&#13;
    <h:outputText data-vpvid="10472" style="color:#f44336; font-weight:bold; display:block; margin-top:20px;" value="#{insuranceController.pullTopMessage()}"/>&#13;
  </h:panelGroup>&#13;
&#13;
  &#13;
  <h:panelGroup data-vpvid="10506" rendered="#{insuranceController.showPatientsFlag}">&#13;
    <h:form data-vpvid="10505" prependId="false">&#13;
      <h:outputText data-vpvid="10474" style="font-weight:bold; display:block; margin-top:20px;" value="Total Associated Patients: #{insuranceController.associatedPatients.size()}"/>&#13;
&#13;
      <h:dataTable data-vpvid="10495" styleClass="data-table" value="#{insuranceController.getPaginatedAssociatedPatients()}" var="patient">&#13;
&#13;
        <h:column data-vpvid="10478">&#13;
          <f:facet data-vpvid="10476" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('patients','hId')}" data-vpvid="10475" value="Health ID#{insuranceController.sortField eq 'hId'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10477" value="#{patient.hId}"/>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10482">&#13;
          <f:facet data-vpvid="10480" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('patients','userName')}" data-vpvid="10479" value="User Name#{insuranceController.sortField eq 'userName'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10481" value="#{patient.userName}"/>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10486">&#13;
          <f:facet data-vpvid="10484" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('patients','firstName')}" data-vpvid="10483" value="First Name#{insuranceController.sortField eq 'firstName'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10485" value="#{patient.firstName}"/>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10490">&#13;
          <f:facet data-vpvid="10488" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('patients','lastName')}" data-vpvid="10487" value="Last Name#{insuranceController.sortField eq 'lastName'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10489" value="#{patient.lastName}"/>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10494">&#13;
          <f:facet data-vpvid="10492" name="header">&#13;
            <h:outputText data-vpvid="10491" value="Show Insurance"/>&#13;
          </f:facet>&#13;
          <h:commandButton action="#{insuranceController.showInsuranceForPatient(patient.hId)}" data-vpvid="10493" styleClass="btn btn-primary" value="Show Insurance"/>&#13;
        </h:column>&#13;
      </h:dataTable>&#13;
&#13;
      <div class="pagination-group" data-vpvid="10504">&#13;
        <div data-vpvid="10498">&#13;
          <h:commandButton action="#{insuranceController.setPatientFirst(0)}" data-vpvid="10496" disabled="#{insuranceController.patientFirst == 0}" styleClass="btn btn-tertiary" value="First"/>&#13;
          <h:commandButton action="#{insuranceController.previousPatientPage()}" data-vpvid="10497" disabled="#{insuranceController.patientFirst == 0}" styleClass="btn btn-tertiary" value="Previous"/>&#13;
        </div>&#13;
        <div data-vpvid="10500">&#13;
          <h:outputText data-vpvid="10499" style="font-weight:bold;" value="Page #{insuranceController.associatedPatientsCurrentPage}&#13;&#10;                               of #{insuranceController.associatedPatientsTotalPages}"/>&#13;
        </div>&#13;
        <div data-vpvid="10503">&#13;
          <h:commandButton action="#{insuranceController.nextPatientPage()}" data-vpvid="10501" disabled="#{!insuranceController.isPatientHasNextPage()}" styleClass="btn btn-tertiary" value="Next"/>&#13;
          <h:commandButton action="#{insuranceController.setPatientFirst(&#13;&#10;                                     insuranceController.associatedPatients.size()&#13;&#10;                                     - (insuranceController.associatedPatients.size()&#13;&#10;                                        mod insuranceController.patientPageSize))}" data-vpvid="10502" disabled="#{!insuranceController.isPatientHasNextPage()}" styleClass="btn btn-tertiary" value="Last"/>&#13;
        </div>&#13;
      </div>&#13;
    </h:form>&#13;
  </h:panelGroup>&#13;
&#13;
  &#13;
  <h:panelGroup data-vpvid="10578" rendered="#{insuranceController.showInsuranceFlag}">&#13;
    <h:form data-vpvid="10577" prependId="false">&#13;
      <h:outputText data-vpvid="10507" style="font-weight:bold; display:block; margin-top:20px;" value="Total Insurance Records: #{insuranceController.patientInsuranceList.size()}"/>&#13;
&#13;
      <h:dataTable data-vpvid="10565" styleClass="data-table" value="#{insuranceController.getPaginatedInsuranceList()}" var="insurance">&#13;
&#13;
        <h:column data-vpvid="10511">&#13;
          <f:facet data-vpvid="10509" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('insurance','patientName')}" data-vpvid="10508" value="Patient Name#{insuranceController.sortField eq 'patientName'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10510" value="#{insurance.patientName}"/>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10515">&#13;
          <f:facet data-vpvid="10513" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('insurance','companyName')}" data-vpvid="10512" value="Company Name#{insuranceController.sortField eq 'companyName'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10514" value="#{insurance.companyName}"/>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10519">&#13;
          <f:facet data-vpvid="10517" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('insurance','planName')}" data-vpvid="10516" value="Plan Name#{insuranceController.sortField eq 'planName'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10518" value="#{insurance.planName}"/>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10524">&#13;
          <f:facet data-vpvid="10521" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('insurance','enrollmentDate')}" data-vpvid="10520" value="Enrollment Date#{insuranceController.sortField eq 'enrollmentDate'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10523" value="#{insurance.enrollmentDate}">&#13;
            <f:convertDateTime data-vpvid="10522" pattern="yyyy-MM-dd"/>&#13;
          </h:outputText>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10529">&#13;
          <f:facet data-vpvid="10526" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('insurance','coverageStartDate')}" data-vpvid="10525" value="Coverage Start#{insuranceController.sortField eq 'coverageStartDate'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10528" value="#{insurance.coverageStartDate}">&#13;
            <f:convertDateTime data-vpvid="10527" pattern="yyyy-MM-dd"/>&#13;
          </h:outputText>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10534">&#13;
          <f:facet data-vpvid="10531" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('insurance','coverageEndDate')}" data-vpvid="10530" value="Coverage End#{insuranceController.sortField eq 'coverageEndDate'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10533" value="#{insurance.coverageEndDate}">&#13;
            <f:convertDateTime data-vpvid="10532" pattern="yyyy-MM-dd"/>&#13;
          </h:outputText>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10538">&#13;
          <f:facet data-vpvid="10536" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('insurance','coverageType')}" data-vpvid="10535" value="Coverage Type#{insuranceController.sortField eq 'coverageType'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10537" value="#{insurance.coverageType}"/>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10542">&#13;
          <f:facet data-vpvid="10540" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('insurance','coverageStatus')}" data-vpvid="10539" value="Status#{insuranceController.sortField eq 'coverageStatus'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10541" value="#{insurance.coverageStatus}"/>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10546">&#13;
          <f:facet data-vpvid="10544" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('insurance','coverageLimit')}" data-vpvid="10543" value="Coverage Limit#{insuranceController.sortField eq 'coverageLimit'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10545" value="#{insurance.coverageLimit}"/>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10550">&#13;
          <f:facet data-vpvid="10548" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('insurance','remaining')}" data-vpvid="10547" value="Remaining Amount#{insuranceController.sortField eq 'remaining'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10549" value="#{insurance.remaining}"/>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10554">&#13;
          <f:facet data-vpvid="10552" name="header">&#13;
            <h:commandLink action="#{providerController.sortBy('insurance','claimed')}" data-vpvid="10551" value="Claimed Amount#{providerController.sortField eq 'claimed'&#13;&#10;                               ? (providerController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10553" value="#{insurance.claimed}"/>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10559">&#13;
          <f:facet data-vpvid="10556" name="header">&#13;
            <h:commandLink action="#{insuranceController.sortBy('insurance','lastClaimDate')}" data-vpvid="10555" value="Last Claim Date#{insuranceController.sortField eq 'lastClaimDate'&#13;&#10;                               ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
          </f:facet>&#13;
          <h:outputText data-vpvid="10558" value="#{insurance.lastClaimDate}">&#13;
            <f:convertDateTime data-vpvid="10557" pattern="yyyy-MM-dd"/>&#13;
          </h:outputText>&#13;
        </h:column>&#13;
&#13;
        <h:column data-vpvid="10564">&#13;
          <f:facet data-vpvid="10561" name="header">&#13;
            <h:outputText data-vpvid="10560" value="Action"/>&#13;
          </f:facet>&#13;
          <h:panelGroup data-vpvid="10563" rendered="#{insurance.coverageType eq 'FAMILY'}">&#13;
            <h:commandButton action="#{insuranceController.redirect(insurance)}" data-vpvid="10562" styleClass="btn btn-primary" value="View Members"/>&#13;
          </h:panelGroup>&#13;
        </h:column>&#13;
      </h:dataTable>&#13;
&#13;
      <div class="pagination-group" data-vpvid="10574">&#13;
        <div data-vpvid="10568">&#13;
          <h:commandButton action="#{insuranceController.setInsuranceFirst(0)}" data-vpvid="10566" disabled="#{insuranceController.insuranceFirst == 0}" styleClass="btn btn-tertiary" value="First"/>&#13;
          <h:commandButton action="#{insuranceController.previousInsurancePage()}" data-vpvid="10567" disabled="#{insuranceController.insuranceFirst == 0}" styleClass="btn btn-tertiary" value="Previous"/>&#13;
        </div>&#13;
        <div data-vpvid="10570">&#13;
          <h:outputText data-vpvid="10569" style="font-weight:bold;" value="Page #{insuranceController.insuranceCurrentPage}&#13;&#10;                               of #{insuranceController.insuranceTotalPages}"/>&#13;
        </div>&#13;
        <div data-vpvid="10573">&#13;
          <h:commandButton action="#{insuranceController.nextInsurancePage()}" data-vpvid="10571" disabled="#{!insuranceController.isInsuranceHasNextPage()}" styleClass="btn btn-tertiary" value="Next"/>&#13;
          <h:commandButton action="#{insuranceController.setInsuranceFirst(&#13;&#10;                                     insuranceController.patientInsuranceList.size()&#13;&#10;                                     - (insuranceController.patientInsuranceList.size()&#13;&#10;                                        mod insuranceController.insurancePageSize))}" data-vpvid="10572" disabled="#{!insuranceController.isInsuranceHasNextPage()}" styleClass="btn btn-tertiary" value="Last"/>&#13;
        </div>&#13;
      </div>&#13;
&#13;
      <h:panelGroup data-vpvid="10576" rendered="#{insuranceController.cameFromPatientSearch and insuranceController.showInsuranceFlag}" style="margin-top:20px;">&#13;
        <h:commandButton action="#{insuranceController.backToPatients}" data-vpvid="10575" styleClass="btn btn-tertiary" value="Back to Patient Lists"/>&#13;
      </h:panelGroup>&#13;
    </h:form>&#13;
  </h:panelGroup>&#13;
</body>&#13;
</html>&#13;
</f:view>