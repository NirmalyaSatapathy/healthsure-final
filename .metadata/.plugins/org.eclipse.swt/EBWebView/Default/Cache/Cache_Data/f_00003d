<!DOCTYPE html>
<f:view data-vpvid="3351">&#13;
<html data-vpvid="3350">&#13;
<head data-vpvid="3209">&#13;
    <meta charset="UTF-8" data-vpvid="3206"/>&#13;
    <title data-vpvid="3207">Patient Insurance Details</title>&#13;
<style data-vpvid="3208">&#13;
    /* Page background: subtle clinic tone */&#13;
    body {&#13;
        font-family: 'Segoe UI', Arial, sans-serif;&#13;
        background-color: #f4f8fc; /* soft hospital background */&#13;
        color: #2f4f4f;&#13;
        padding: 20px;&#13;
        margin: 0;&#13;
    }&#13;
&#13;
    h2 {&#13;
        color: #0277bd; /* calm blue */&#13;
        font-size: 28px;&#13;
        margin: 20px 0;&#13;
        border-bottom: 2px solid #b3e5fc;&#13;
        padding-bottom: 6px;&#13;
    }&#13;
&#13;
    .form-group {&#13;
        margin-bottom: 15px;&#13;
    }&#13;
&#13;
    label {&#13;
        font-weight: bold;&#13;
        color: #004d40;&#13;
        display: inline-block;&#13;
        margin-bottom: 5px;&#13;
    }&#13;
&#13;
    .error-message {&#13;
        display: block;                /* ensure it takes its own line */&#13;
  color: #f44336 !important;     /* vivid red */&#13;
  font-size: 14px;               /* a bit larger */&#13;
  font-weight: 600;              /* semi-bold */&#13;
  padding: 4px 8px;             &#13;
  border-radius: 4px;&#13;
  margin-top: 6px;    &#13;
    }&#13;
&#13;
    h\\:inputText {&#13;
        padding: 8px 10px;&#13;
        border: 1px solid #b0bec5;&#13;
        border-radius: 4px;&#13;
        width: 260px;&#13;
        font-size: 14px;&#13;
        background-color: #ffffff;&#13;
        box-sizing: border-box;&#13;
    }&#13;
&#13;
    h\\:commandButton {&#13;
        background-color: #0288d1;&#13;
        color: white;&#13;
        border: none;&#13;
        border-radius: 4px;&#13;
        padding: 8px 16px;&#13;
        font-size: 14px;&#13;
        cursor: pointer;&#13;
        transition: background-color 0.3s ease;&#13;
        margin-top: 10px;&#13;
    }&#13;
&#13;
    h\\:commandButton:hover {&#13;
        background-color: #01579b;&#13;
    }&#13;
&#13;
    /* Data table styling */&#13;
    .data-table {&#13;
        width: 100%;&#13;
        margin-top: 30px;&#13;
        border-collapse: collapse;&#13;
        background-color: #ffffff;&#13;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);&#13;
    }&#13;
&#13;
    /* Table headers */&#13;
    .data-table th {&#13;
        background-color: #64b5f6; /* hospital blue */&#13;
        color: #ffffff;&#13;
        font-weight: 600;&#13;
        padding: 12px;&#13;
        text-align: center;&#13;
        border: 1px solid #90caf9;&#13;
        font-size: 15px;&#13;
    }&#13;
&#13;
    /* Alternate row backgrounds */&#13;
    .data-table tr:nth-child(odd) {&#13;
        background-color: #ffffff; /* pure white */&#13;
    }&#13;
&#13;
    .data-table tr:nth-child(even) {&#13;
        background-color: #f0f9ff; /* very light hospital blue tint */&#13;
    }&#13;
&#13;
    /* Table cells */&#13;
    .data-table td {&#13;
        border: 1px solid #cfd8dc;&#13;
        padding: 10px;&#13;
        font-size: 15px;&#13;
        text-align: center;&#13;
    }&#13;
&#13;
    /* Row hover effect */&#13;
    .data-table tr:hover {&#13;
        background-color: #e1f5fe; /* soft highlight */&#13;
    }&#13;
&#13;
    /* Responsive design */&#13;
    @media (max-width: 600px) {&#13;
        h2 {&#13;
            font-size: 24px;&#13;
        }&#13;
&#13;
        .data-table th,&#13;
        .data-table td {&#13;
            font-size: 13px;&#13;
            padding: 6px;&#13;
        }&#13;
&#13;
        h\\:inputText {&#13;
            width: 100%;&#13;
        }&#13;
&#13;
        h\\:commandButton {&#13;
            width: 100%;&#13;
            margin-bottom: 10px;&#13;
        }&#13;
    }&#13;
</style>&#13;
</head>&#13;
<body data-vpvid="3349">&#13;
<h2 data-vpvid="3210">Patient insurance details</h2>&#13;
&#13;
<h:form data-vpvid="3236" prependId="false">&#13;
    <h:panelGrid cellpadding="5" columns="2" data-vpvid="3235">&#13;
&#13;
        &#13;
        <h:outputLabel data-vpvid="3211" escape="false" for="doctorId" value="Enter Doctor ID: &lt;span style='color:red;'&gt;*&lt;/span&gt;"/>&#13;
        <h:panelGroup data-vpvid="3214" layout="block">&#13;
            <h:inputText data-vpvid="3212" id="doctorId" value="#{insuranceController.doctorId}"/>&#13;
            <h:message data-vpvid="3213" for="doctorId" styleClass="error-message"/>&#13;
        </h:panelGroup>&#13;
&#13;
        &#13;
        <h:outputLabel data-vpvid="3215" for="recipientId" value="Enter Patient ID (optional):"/>&#13;
        <h:panelGroup data-vpvid="3218" layout="block">&#13;
            <h:inputText data-vpvid="3216" id="recipientId" value="#{insuranceController.healthId}"/>&#13;
            <h:message data-vpvid="3217" for="recipientId" styleClass="error-message"/>&#13;
        </h:panelGroup>&#13;
&#13;
        &#13;
        <h:outputLabel data-vpvid="3219" for="patientName" value="Patient Name (optional):"/>&#13;
        <h:panelGroup data-vpvid="3222" layout="block">&#13;
            <h:inputText data-vpvid="3220" id="patientName" value="#{insuranceController.patientName}"/>&#13;
            <h:message data-vpvid="3221" for="patientName" styleClass="error-message"/>&#13;
        </h:panelGroup>&#13;
        <h:panelGroup data-vpvid="3227" layout="block">&#13;
            <h:selectOneRadio data-vpvid="3225" id="matchType" layout="lineDirection" value="#{insuranceController.matchType}">&#13;
                <f:selectItem data-vpvid="3223" itemLabel="Starts With" itemValue="startsWith"/>&#13;
                <f:selectItem data-vpvid="3224" itemLabel="Contains" itemValue="contains"/>&#13;
            </h:selectOneRadio>&#13;
            <h:message data-vpvid="3226" for="matchType" styleClass="error-message"/>&#13;
        </h:panelGroup>&#13;
&#13;
        &#13;
        <h:outputLabel data-vpvid="3228"/>&#13;
        &#13;
<h:outputLabel data-vpvid="3229"/>&#13;
&#13;
<h:outputLabel data-vpvid="3230"/>&#13;
<h:panelGroup data-vpvid="3234" layout="block" style="max-width: 260px; display: flex; gap: 8px; flex-wrap: wrap;">&#13;
    <h:commandButton action="#{insuranceController.handleSearch()}" data-vpvid="3231" value="Search"/>&#13;
    <h:commandButton action="#{insuranceController.resetPage()}" data-vpvid="3232" immediate="true" value="Reset"/>&#13;
    <h:commandButton action="#{insuranceController.goToDashboard()}" data-vpvid="3233" value="Go to Dashboard"/>&#13;
</h:panelGroup>&#13;
 &#13;
&#13;
    </h:panelGrid>&#13;
</h:form>&#13;
&#13;
<h:panelGroup data-vpvid="3240" rendered="#{not empty insuranceController.topMessage}">&#13;
    <h:outputText data-vpvid="3237" style="color:red; font-weight:bold;" value="#{insuranceController.pullTopMessage()}"/>&#13;
    <br data-vpvid="3238"/><br data-vpvid="3239"/>&#13;
</h:panelGroup>&#13;
&#13;
<h:panelGroup data-vpvid="3274" rendered="#{insuranceController.showPatientsFlag}">&#13;
    <h:form data-vpvid="3273">&#13;
    <h:outputText data-vpvid="3241" style="font-weight: bold; margin-top: 10px; display: block;" value="Total Associated Patients: #{insuranceController.associatedPatients.size()}"/>&#13;
        <h:dataTable data-vpvid="3262" styleClass="data-table" value="#{insuranceController.getPaginatedAssociatedPatients()}" var="patient">&#13;
            <h:column data-vpvid="3245">&#13;
                <f:facet data-vpvid="3243" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('patients', 'hId')}" data-vpvid="3242" value="Health Id#{insuranceController.sortField eq 'hId' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3244" value="#{patient.hId}"/>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3249">&#13;
                <f:facet data-vpvid="3247" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('patients', 'userName')}" data-vpvid="3246" value="User Name#{insuranceController.sortField eq 'userName' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3248" value="#{patient.userName}"/>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3253">&#13;
                <f:facet data-vpvid="3251" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('patients', 'firstName')}" data-vpvid="3250" value="First Name#{insuranceController.sortField eq 'firstName' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3252" value="#{patient.firstName}"/>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3257">&#13;
                <f:facet data-vpvid="3255" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('patients', 'lastName')}" data-vpvid="3254" value="Last Name#{insuranceController.sortField eq 'lastName' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3256" value="#{patient.lastName}"/>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3261">&#13;
                <f:facet data-vpvid="3259" name="header"><h:outputText data-vpvid="3258" value="Show Insurance"/></f:facet>&#13;
                <h:commandButton action="#{insuranceController.showInsuranceForPatient(patient.hId)}" data-vpvid="3260" value="Show Insurance"/>&#13;
            </h:column>&#13;
        </h:dataTable>&#13;
&#13;
&#13;
       &#13;
<h:panelGroup data-vpvid="3272" layout="block" style="margin-top: 10px;">&#13;
    <div data-vpvid="3271" style="display: flex; justify-content: space-between; align-items: center;">&#13;
        &#13;
        <div data-vpvid="3265">&#13;
            <h:commandButton action="#{insuranceController.setPatientFirst(0)}" data-vpvid="3263" disabled="#{insuranceController.patientFirst == 0}" value="First"/>&#13;
            <h:commandButton action="#{insuranceController.previousPatientPage()}" data-vpvid="3264" disabled="#{insuranceController.patientFirst == 0}" value="Previous"/>&#13;
        </div>&#13;
&#13;
        &#13;
        <div data-vpvid="3267">&#13;
            <h:outputText data-vpvid="3266" value="Page #{insuranceController.associatedPatientsCurrentPage} of #{insuranceController.associatedPatientsTotalPages}"/>&#13;
        </div>&#13;
&#13;
        &#13;
        <div data-vpvid="3270">&#13;
            <h:commandButton action="#{insuranceController.nextPatientPage()}" data-vpvid="3268" disabled="#{!insuranceController.isPatientHasNextPage()}" value="Next"/>&#13;
            <h:commandButton action="#{insuranceController.setPatientFirst(insuranceController.associatedPatients.size() - (insuranceController.associatedPatients.size() mod insuranceController.patientPageSize))}" data-vpvid="3269" disabled="#{!insuranceController.isPatientHasNextPage()}" value="Last"/>&#13;
        </div>&#13;
    </div>&#13;
</h:panelGroup>&#13;
&#13;
&#13;
    </h:form>&#13;
</h:panelGroup>&#13;
&#13;
&#13;
<h:panelGroup data-vpvid="3348" rendered="#{insuranceController.showInsuranceFlag}">&#13;
    <h:form data-vpvid="3347">&#13;
    <h:outputText data-vpvid="3275" style="font-weight: bold; margin-top: 10px; display: block;" value="Total Insurance Records: #{insuranceController.patientInsuranceList.size()}"/>&#13;
        <h:dataTable data-vpvid="3333" styleClass="data-table" value="#{insuranceController.getPaginatedInsuranceList()}" var="insurance">&#13;
            <h:column data-vpvid="3279">&#13;
                <f:facet data-vpvid="3277" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('insurance', 'patientName')}" data-vpvid="3276" value="Patient Name#{insuranceController.sortField eq 'patientName' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3278" value="#{insurance.patientName}"/>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3283">&#13;
                <f:facet data-vpvid="3281" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('insurance', 'companyName')}" data-vpvid="3280" value="Company Name#{insuranceController.sortField eq 'companyName' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3282" value="#{insurance.companyName}"/>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3287">&#13;
                <f:facet data-vpvid="3285" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('insurance', 'planName')}" data-vpvid="3284" value="Plan Name#{insuranceController.sortField eq 'planName' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3286" value="#{insurance.planName}"/>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3292">&#13;
                <f:facet data-vpvid="3289" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('insurance', 'enrollmentDate')}" data-vpvid="3288" value="Enrollment Date#{insuranceController.sortField eq 'enrollmentDate' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3291" value="#{insurance.enrollmentDate}">&#13;
                    <f:convertDateTime data-vpvid="3290" pattern="yyyy-MM-dd"/>&#13;
                </h:outputText>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3297">&#13;
                <f:facet data-vpvid="3294" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('insurance', 'coverageStartDate')}" data-vpvid="3293" value="Coverage Start#{insuranceController.sortField eq 'coverageStartDate' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3296" value="#{insurance.coverageStartDate}">&#13;
                    <f:convertDateTime data-vpvid="3295" pattern="yyyy-MM-dd"/>&#13;
                </h:outputText>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3302">&#13;
                <f:facet data-vpvid="3299" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('insurance', 'coverageEndDate')}" data-vpvid="3298" value="Coverage End#{insuranceController.sortField eq 'coverageEndDate' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3301" value="#{insurance.coverageEndDate}">&#13;
                    <f:convertDateTime data-vpvid="3300" pattern="yyyy-MM-dd"/>&#13;
                </h:outputText>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3306">&#13;
                <f:facet data-vpvid="3304" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('insurance', 'coverageType')}" data-vpvid="3303" value="Coverage Type#{insuranceController.sortField eq 'coverageType' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3305" value="#{insurance.coverageType}"/>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3310">&#13;
                <f:facet data-vpvid="3308" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('insurance', 'coverageStatus')}" data-vpvid="3307" value="Status#{insuranceController.sortField eq 'coverageStatus' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3309" value="#{insurance.coverageStatus}"/>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3314">&#13;
                <f:facet data-vpvid="3312" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('insurance', 'coverageLimit')}" data-vpvid="3311" value="Coverage Limit#{insuranceController.sortField eq 'coverageLimit' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3313" value="#{insurance.coverageLimit}"/>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3318">&#13;
                <f:facet data-vpvid="3316" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('insurance', 'remaining')}" data-vpvid="3315" value="Remaining Amount#{insuranceController.sortField eq 'remaining' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3317" value="#{insurance.remaining}"/>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3322">&#13;
                <f:facet data-vpvid="3320" name="header">&#13;
                    <h:commandLink action="#{providerController.sortBy('insurance', 'claimed')}" data-vpvid="3319" value="Claimed Amount#{providerController.sortField eq 'claimed' ? (providerController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3321" value="#{insurance.claimed}"/>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3327">&#13;
                <f:facet data-vpvid="3324" name="header">&#13;
                    <h:commandLink action="#{insuranceController.sortBy('insurance', 'lastClaimDate')}" data-vpvid="3323" value="Last Claim Date#{insuranceController.sortField eq 'lastClaimDate' ? (insuranceController.ascending ? ' ↑' : ' ↓') : ''}"/>&#13;
                </f:facet>&#13;
                <h:outputText data-vpvid="3326" value="#{insurance.lastClaimDate}">&#13;
                    <f:convertDateTime data-vpvid="3325" pattern="yyyy-MM-dd"/>&#13;
                </h:outputText>&#13;
            </h:column>&#13;
            <h:column data-vpvid="3332">&#13;
                <f:facet data-vpvid="3329" name="header"><h:outputText data-vpvid="3328" value="Action"/></f:facet>&#13;
                <h:panelGroup data-vpvid="3331" rendered="#{insurance.coverageType eq 'FAMILY'}">&#13;
                    <h:commandButton action="#{insuranceController.redirect(insurance)}" data-vpvid="3330" value="View Members"/>&#13;
                </h:panelGroup>&#13;
            </h:column>&#13;
        </h:dataTable>&#13;
&#13;
      &#13;
<h:panelGroup data-vpvid="3343" layout="block" style="margin-top: 10px;">&#13;
    <div data-vpvid="3342" style="display: flex; justify-content: space-between; align-items: center;">&#13;
        &#13;
        <div data-vpvid="3336">&#13;
            <h:commandButton action="#{insuranceController.setInsuranceFirst(0)}" data-vpvid="3334" disabled="#{insuranceController.insuranceFirst == 0}" value="First"/>&#13;
            <h:commandButton action="#{insuranceController.previousInsurancePage()}" data-vpvid="3335" disabled="#{insuranceController.insuranceFirst == 0}" value="Previous"/>&#13;
        </div>&#13;
&#13;
        &#13;
        <div data-vpvid="3338">&#13;
            <h:outputText data-vpvid="3337" value="Page #{insuranceController.insuranceCurrentPage} of #{insuranceController.insuranceTotalPages}"/>&#13;
        </div>&#13;
&#13;
        &#13;
        <div data-vpvid="3341">&#13;
            <h:commandButton action="#{insuranceController.nextInsurancePage()}" data-vpvid="3339" disabled="#{!insuranceController.isInsuranceHasNextPage()}" value="Next"/>&#13;
            <h:commandButton action="#{insuranceController.setInsuranceFirst(insuranceController.patientInsuranceList.size() - (insuranceController.patientInsuranceList.size() mod insuranceController.insurancePageSize))}" data-vpvid="3340" disabled="#{!insuranceController.isInsuranceHasNextPage()}" value="Last"/>&#13;
        </div>&#13;
    </div>&#13;
</h:panelGroup>&#13;
&#13;
<br data-vpvid="3344"/>&#13;
 <h:panelGroup data-vpvid="3346" rendered="#{insuranceController.cameFromPatientSearch and insuranceController.showInsuranceFlag}">&#13;
        <h:commandButton action="#{insuranceController.backToPatients}" data-vpvid="3345" value="Back to PatientLists"/>&#13;
    </h:panelGroup>&#13;
&#13;
    </h:form>&#13;
</h:panelGroup>&#13;
&#13;
</body>&#13;
</html>&#13;
</f:view>